<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration</title>
    <style>
      body {
        height: 100vh;
        /* background-color: rgb(125, 190, 255); */
        background: linear-gradient(
          45deg,
          rgb(102, 102, 156) 0%,
          rgb(9, 51, 63) 50%,
          rgb(95, 68, 122) 100%
        );
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .container {
        height: 400px;
        width: 600px;
        padding: 20px;
        background-color: white;
        border-radius: 13px;
        box-shadow: 0px 0px 10px 1px black;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
      .formwrap {
        padding: 20px;
        background-color: white;
        border-radius: 13px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      form {
        height: 280px;
        width: 250px;
        margin-top: 10px;
        font-family: calibri;
        font-size: 14px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      h2,
      h5 {
        margin: 0px;
        margin-top: 10px;
        font-family: arial;
      }
      h2 {
        font-size: 30px;
      }
      input {
        padding: 10px;
        background: none;
        border: none;
        border-bottom: 2px solid rgb(169, 169, 169);
      }
      input:focus {
        border-bottom: none;
        outline: 2px solid rgb(83, 83, 255);
        box-shadow: 0px 0px 5px 1px rgba(139, 50, 255, 0.932);
        border-radius: 3px;
      }
      input::placeholder {
        color: rgb(164, 164, 164);
      }
      #iconimg {
        margin-left: 30px;
      }
      #dpimg {
        height: 25px;
        width: 25px;
        margin-left: 10px;
        cursor: pointer;
      }
      button {
        border: none;
        background-color: rgb(255, 128, 0);
        color: white;
        font-weight: bold;
        padding: 10px;
        border-radius: 8px;
        cursor: pointer;
      }
      button:active {
        box-shadow: 0px 0px 5px 2px rgba(168, 168, 168, 0.932);
      }
      #asklog {
        margin-top: 10px;
        text-align: center;
        color: rgb(109, 109, 109);
      }
      #user_dp {
        cursor: pointer;
      }
      label {
        margin: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        color: gray;
      }
      #greentick {
        display: none;
        align-items: center;
      }
      #tick {
        height: 25px;
      }
      #succmsg {
        color: rgb(39 202 39);
        font-family: calibri;
        font-weight: bold;
        margin-top: 10px;
      }
      #errmsg {
        color: red;
        font-family: calibri;
        font-weight: bold;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div>
        <img
          id="iconimg"
          src="https://th.bing.com/th/id/OIP.pTUk1lI75YgTikwmo-bsGQHaHa?pid=ImgDet&w=191&h=191&c=7&dpr=1.3"
        />
      </div>
      <div class="formwrap">
        <h2>ChatRoom</h2>
        <h5>Register</h5>
        <% if (succstate) { %>
        <span id="succmsg"><%= message %></span>
        <% } %> <% if (errstate) { %>
        <span id="errmsg"><%= errmessage %></span>
        <% } %>

        <form
          method="POST"
          action="/registersubmit"
          enctype="multipart/form-data"
        >
          <input type="text" name="name" placeholder="Enter Name" required />

          <input type="email" name="email" placeholder="Enter email" required />

          <input
            type="password"
            name="psw"
            placeholder="Enter password"
            required
          />

          <input
            type="password"
            name="c_psw"
            placeholder="Re-Enter password"
            required
          />

          <label for="user_dp">
            <img
              id="dpimg"
              src="https://cdn-icons-png.flaticon.com/128/8065/8065934.png"
            />Add profile picture
            <span id="greentick"
              ><img
                id="tick"
                src="https://cdn-icons-png.flaticon.com/128/8212/8212602.png"
            /></span>
          </label>
          <input type="file" name="image" id="user_dp" style="display: none" />
          <button type="submit">Register</button>
          <span id="asklog"
            >Already have an account? <a href="login">Login</a></span
          >
        </form>
      </div>
    </div>
    <script>
      document
        .getElementById("user_dp")
        .addEventListener("change", function (e) {
          if (e.target.files.length > 0) {
            console.log(e.target.files);
            document.getElementById("greentick").style.display = "flex";
          }
        });
    </script>
  </body>
</html>
